warn("Espectate script by Nineteen_DEV")

local Player = game.Players.LocalPlayer

local Gui
local PlayerNameLabel
local NextPlayerButton
local BackPlayerButton
local OpenCloseButton

local ActualPlayer = 1
local GuiVisible = false

function GenerateUi(Parent : Instance)
	
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "EspectateUI"
	ScreenGui.ResetOnSpawn = false
	
	local Frame = Instance.new("Frame")
	Frame.Size = UDim2.new(1, 0,0.19, 0)
	Frame.Position = UDim2.new(0,0,0.809, 0)
	Frame.Transparency = 1
	Frame.Visible = GuiVisible
	Frame.Parent = ScreenGui
	
	local Openclose = Instance.new("TextButton")
	Openclose.Position = UDim2.new(.85,0,0,0)
	Openclose.Size = UDim2.new(0.1,0,.05,0)
	Openclose.TextScaled = true
	Openclose.Text = "ESPECTATE"
	Openclose.BackgroundColor = BrickColor.Blue()
	Openclose.TextColor = BrickColor.White()
	Openclose.Parent = ScreenGui
	
	local PLRNAME = Instance.new("TextLabel")
	PLRNAME.Size = UDim2.new(.6,0,1,0)
	PLRNAME.Position = UDim2.new(.2,0,0,0)
	PLRNAME.Text = "NAME HERE"
	PLRNAME.TextColor = BrickColor.White()
	PLRNAME.TextStrokeTransparency = 0
	PLRNAME.TextScaled = true
	PLRNAME.BackgroundTransparency = 1
	PLRNAME.Parent = Frame
	
	local Backbutton = Instance.new("TextButton")
	Backbutton.Position = UDim2.new(0.097, 0,0, 0)
	Backbutton.Size = UDim2.new(0.103, 0,1, 0)
	Backbutton.TextScaled = true
	Backbutton.Text = "<"
	Backbutton.BackgroundColor = BrickColor.Blue()
	Backbutton.TextColor = BrickColor.White()
	Backbutton.Parent = Frame
	
	local NextButton = Instance.new("TextButton")
	NextButton.Position = UDim2.new(0.8, 0,0, 0)
	NextButton.Size = UDim2.new(0.103, 0,1, 0)
	NextButton.TextScaled = true
	NextButton.Text = ">"
	NextButton.BackgroundColor = BrickColor.Blue()
	NextButton.TextColor = BrickColor.White()
	NextButton.Parent = Frame
	
	Gui = Frame
	PlayerNameLabel = PLRNAME
	NextPlayerButton = NextButton
	BackPlayerButton = Backbutton
	OpenCloseButton = Openclose
	
	ScreenGui.Parent = Parent
	
	task.wait()
	
end

GenerateUi(Player.PlayerGui)

local RunService = game:GetService("RunService")

OpenCloseButton.Activated:Connect(function()
	
	GuiVisible = not GuiVisible
	
	Gui.Visible = GuiVisible
	
	
end)

NextPlayerButton.Activated:Connect(function()

	local Players = game.Players:GetChildren()
	local Camera = workspace.CurrentCamera
	
	ActualPlayer = ActualPlayer + 1
	
	if ActualPlayer > #Players then ActualPlayer = 1 end
	
end)

BackPlayerButton.Activated:Connect(function()
	
	local Players = game.Players:GetChildren()
	local Camera = workspace.CurrentCamera
	
	ActualPlayer = ActualPlayer - 1
	
	if ActualPlayer <= 0 then ActualPlayer = #Players end

end)

RunService.RenderStepped:Connect(function()
	
	print(ActualPlayer)
	
	local Players = game.Players:GetChildren()
	local Camera = workspace.CurrentCamera
	
	if GuiVisible then
		
		local Plr : Player = Players[ActualPlayer]
		
		local Character = Plr.Character or Plr.CharacterAdded:Wait()
		
		local PlrHumanoid : Humanoid = Character:WaitForChild("Humanoid")
		
		Camera.CameraSubject = PlrHumanoid
		
		PlayerNameLabel.Text = Plr.Name
		
	end
	
end)
