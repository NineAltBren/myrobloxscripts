warn("Xray by Nineteen_DEV")

local OnOff = false 

function Xray()

OnOff = not OnOff 

for _, Player in game.Players:GetChildren() do

local Character = Player.Character or Player.CharacterAdded:Wait()

if OnOff == true then

if Character:FindFirstChild("Xray") then return end

local Light = Instance.new("Highlight")
Light.Name = "Xray"
Light.Parent = Character 

else

if Character:FindFirstChild("Xray") then 
    
    Character:FindFirstChild("Xray"):Destroy()
    
end

end

end

end

local Gui = Instance.new("ScreenGui")
Gui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(.04,0,.1,0)
Frame.Position = UDim2.new(.9,0,.25,0)
Frame.Parent = Gui

local Button = Instance.new("TextButton")
Button.Text = "Xray"
Button.BackgroundColor3 = Color3.fromRGB(255,0,0)
Button.TextScaled = true
Button.Size = UDim2.new(1,0,1,0)
Button.Position = UDim2.new(0,0,0,0)
Button.Parent = Frame

Gui.Parent = game.Players.LocalPlayer.PlayerGui

for _, Player in game.Players:GetChildren() do

Player.CharacterAdded:Connect(function(Character)

if Character:FindFirstChild("Xray") then return end

if OnOff == true then

local Light = Instance.new("Highlight")
Light.Name = "Xray"
Light.Parent = Character 

end

end)

end

game.Players.PlayerAdded:Connect(function(Player)
    
Player.CharacterAdded:Connect(function(Character)

if Character:FindFirstChild("Xray") then return end

if OnOff == true then

local Light = Instance.new("Highlight")
Light.Name = "Xray"
Light.Parent = Character 

end

end)
    
end)

Button.Activated:Connect(function()

Xray()

end)
